process testJET = {

   include "FWCore/MessageService/data/MessageLogger.cfi"
   replace MessageLogger.cerr.default.limit = 1

   include "SimGeneral/HepPDTESSource/data/pythiapdt.cfi"

   untracked PSet maxEvents = {untracked int32 input = 1}

# OK for running on AOD
  source = PoolSource {
    untracked vstring fileNames = {
       "file:ttbar_01_aodsim.root"
     }
  }
  
  module genParticlesPartons = GenParticleCandidateSelector {
   string src = "genParticleCandidates"
   bool stableOnly = false
   bool partons    = true
   untracked bool verbose = false
  }

  module partonJet = IterativeConeJetProducer {
    untracked string alias = "IC5PartonGenJet"
    untracked int32 debugLevel = 0
    double seedThreshold = 1.0
    double inputEtMin = 0.
    double inputEMin = 0.
    InputTag src = genParticlesPartons
    untracked string jetType = "GenJet"
    untracked bool verbose = false
    double coneRadius = 0.5
  }

  module GenJetCollectionClone = GenJetShallowCloneProducer{
    InputTag src = partonJet
  }

  module genJetSele = PtMinCandSelector{
    InputTag src = GenJetCollectionClone
    double ptMin        = 10.0
  }
    
# the anlyzer to print PartonJet infos
  module printEvent = printPartonJet {
    InputTag src          = genJetSele
  }

  module printEventNumber = AsciiOutputModule { }
  path p = {genParticlesPartons,partonJet,GenJetCollectionClone, genJetSele, printEvent }

# Now order modules for execution
  endpath outpath = {printEventNumber}

}

